syntax_version: "4"
project_name: golang-vscode
based_on:
  docker_image: ctaggart/golang-vscode
enable_gui: true
mount:
  main:
  - .
  - /home/vscode/golang-vscode
macros:
  code:
    usage: start vscode to edit this project
    actions:
    - su - vscode -c "code -w /home/vscode/golang-vscode"
  bash:
    usage: start bash
    actions:
    - su - vscode
  test:
    usage: test by opening up the nut project
    actions:
    # - 
    - |
      cmd="
        echo 'export GOPATH=/home/vscode/golang-vscode/test/nut/vendor:\$GOPATH' >> ~/.bash_profile;
        code -w /home/vscode/golang-vscode/test/nut
        "
      echo "cmd is $cmd"
      su - vscode -c "$cmd"